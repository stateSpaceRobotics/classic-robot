<?xml version="1.0" encoding="utf-8"?>
<launch>
	<!-- This should not be directly launched.
		 Rather, include it in the main launch file 
		 and launch that file.  -->

	<arg name="rear_camera" />
	<arg name="marker_size" />
	<arg name="board" default="board.yml" />
	<arg name="board_frame" default="/board" />
	<arg name="transform_topic" />
	<arg name="inverseTransform_topic" />

	<node pkg="ar_sys" type="single_board" name="ar_single_board" output="screen">

		<!-- May need tweaking based on kinect/realsense -->
		<remap from="/camera_info" to="$(arg rear_camera)/rgb/camera_info" />
		<remap from="/image" to="$(arg rear_camera)/rgb/image_raw" />

		<param name="image_is_rectified" type="bool" value="true"/>
		<param name="marker_size" type="double" value="$(arg marker_size)"/>
		<param name="board_config" type="string" value="$(find classic_robot)/param/$(arg board)"/>
		<param name="board_frame" type="string" value="$(arg board_frame)" />

		<param name="draw_markers" type="bool" value="false" />
		<param name="draw_markers_cube" type="bool" value="true" />
		<param name="draw_markers_axis" type="bool" value="false" />
	</node>

	<node pkg="classic_robot" type="transform_inverter" name="aruco_transform" >

		<param name="transform_topic" type="string" value="$(arg transform_topic" />

		<param name="inverseTransform_topic" type="string" value="$(arg inverseTransform_topic" />
	</node>

</launch>